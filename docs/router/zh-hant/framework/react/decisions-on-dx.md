---
source-updated-at: '2025-02-25T23:33:22.000Z'
translation-updated-at: '2025-05-08T20:16:44.637Z'
title: é–‹ç™¼é«”é©—æ±ºç­–
---

ç•¶é–‹ç™¼è€…åˆæ¬¡ä½¿ç”¨ TanStack Router æ™‚ï¼Œé€šå¸¸æœƒåœç¹ä»¥ä¸‹ä¸»é¡Œç”¢ç”Ÿè¨±å¤šç–‘å•ï¼š

> ç‚ºä»€éº¼å¿…é ˆä»¥é€™ç¨®æ–¹å¼è™•ç†ï¼Ÿ

> ç‚ºä»€éº¼æ¡ç”¨é€™ç¨®åšæ³•è€Œéå…¶ä»–æ–¹å¼ï¼Ÿ

> æˆ‘ç¿’æ…£æ–¼æŸç¨®åšæ³•ï¼Œç‚ºä½•éœ€è¦æ”¹è®Šï¼Ÿ

é€™äº›éƒ½æ˜¯åˆç†çš„å•é¡Œã€‚å¤§å¤šæ•¸æƒ…æ³ä¸‹ï¼Œäººå€‘ç¿’æ…£ä½¿ç”¨çš„è·¯ç”±å‡½å¼åº«éƒ½æ¥µç‚ºç›¸ä¼¼â€”â€”å®ƒå€‘å…·æœ‰ç›¸ä¼¼çš„ APIã€ç›¸ä¼¼çš„æ¦‚å¿µä»¥åŠç›¸ä¼¼çš„æ“ä½œæ–¹å¼ã€‚

ä½† TanStack Router èˆ‡çœ¾ä¸åŒã€‚å®ƒæ—¢éå…¸å‹çš„è·¯ç”±å‡½å¼åº«ï¼Œä¹Ÿéæ™®é€šçš„ç‹€æ…‹ç®¡ç†å·¥å…·ï¼Œæ›´ä¸æ˜¯ä»»ä½•å¸¸è¦‹çš„è§£æ±ºæ–¹æ¡ˆã€‚

## TanStack Router çš„èµ·æºæ•…äº‹

å¿…é ˆç†è§£çš„æ˜¯ï¼ŒTanStack Router çš„èª•ç”Ÿæºè‡ª [Nozzle.io](https://nozzle.io) çš„éœ€æ±‚â€”â€”ä»–å€‘éœ€è¦ä¸€å€‹å®¢æˆ¶ç«¯è·¯ç”±è§£æ±ºæ–¹æ¡ˆï¼Œæ—¢èƒ½æä¾›é ‚ç´šçš„ _URL æœå°‹åƒæ•¸_ é«”é©—ï¼Œåˆèƒ½æ»¿è¶³è¤‡é›œå„€è¡¨æ¿æ‰€éœ€çš„ **_å‹åˆ¥å®‰å…¨_** è¦æ±‚ã€‚

å› æ­¤ï¼Œå¾ TanStack Router è¨­è¨ˆä¹‹åˆï¼Œæ¯å€‹ç´°ç¯€éƒ½ç¶“éç²¾å¿ƒè€ƒé‡ï¼Œä»¥ç¢ºä¿å…¶å‹åˆ¥å®‰å…¨æ€§å’Œé–‹ç™¼è€…é«”é©—ç„¡å¯åŒ¹æ•µã€‚

## TanStack Router å¦‚ä½•å¯¦ç¾é€™ä¸€åˆ‡ï¼Ÿ

> TypeScriptï¼TypeScriptï¼TypeScriptï¼

TanStack Router çš„æ¯å€‹é¢å‘éƒ½è¨­è¨ˆç‚ºæ¥µè‡´å‹åˆ¥å®‰å…¨ï¼Œé€™é€éå……åˆ†é‹ç”¨ TypeScript çš„å‹åˆ¥ç³»çµ±ä¾†å¯¦ç¾ã€‚é€™æ¶‰åŠä½¿ç”¨ä¸€äº›éå¸¸é€²éšä¸”è¤‡é›œçš„å‹åˆ¥ã€å‹åˆ¥æ¨è«–ç­‰åŠŸèƒ½ï¼Œä»¥ç¢ºä¿é–‹ç™¼è€…é«”é©—ç›¡å¯èƒ½æµæš¢ã€‚

ä½†ç‚ºäº†é”æˆé€™å€‹ç›®æ¨™ï¼Œæˆ‘å€‘å¿…é ˆåšå‡ºä¸€äº›åé›¢è·¯ç”±é ˜åŸŸå¸¸è¦çš„æ±ºç­–ã€‚

1. [**è·¯ç”±é…ç½®æ¨£æ¿ç¨‹å¼ç¢¼ï¼Ÿ**](#1-ç‚ºä»€éº¼è·¯ç”±å™¨çš„é…ç½®æ¡ç”¨é€™ç¨®æ–¹å¼)ï¼šä½ å¿…é ˆä»¥å…è¨± TypeScript æœ€å¤§é™åº¦æ¨è«–è·¯ç”±å‹åˆ¥çš„æ–¹å¼å®šç¾©è·¯ç”±ã€‚
2. [**ç‚ºè·¯ç”±å™¨å®£å‘Š TypeScript æ¨¡çµ„ï¼Ÿ**](#2-å®£å‘Šè·¯ç”±å™¨å¯¦ä¾‹ä»¥é€²è¡Œå‹åˆ¥æ¨è«–)ï¼šä½ å¿…é ˆé€é TypeScript çš„æ¨¡çµ„å®£å‘Šå°‡ `Router` å¯¦ä¾‹å‚³éçµ¦æ‡‰ç”¨ç¨‹å¼çš„å…¶ä»–éƒ¨åˆ†ã€‚
3. [**ç‚ºä½•æå€¡åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±è€ŒéåŸºæ–¼ç¨‹å¼ç¢¼ï¼Ÿ**](#3-ç‚ºä»€éº¼åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±æ˜¯å®šç¾©è·¯ç”±çš„é¦–é¸æ–¹å¼)ï¼šæˆ‘å€‘æå€¡å°‡åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±ä½œç‚ºå®šç¾©è·¯ç”±çš„é¦–é¸æ–¹æ³•ã€‚

> ç°¡è€Œè¨€ä¹‹ï¼›TanStack Router åœ¨é–‹ç™¼è€…é«”é©—æ–¹é¢çš„æ‰€æœ‰è¨­è¨ˆæ±ºç­–ï¼Œéƒ½æ˜¯ç‚ºäº†è®“ä½ åœ¨ä¸çŠ§ç‰²è·¯ç”±é…ç½®çš„æ§åˆ¶åŠ›ã€éˆæ´»æ€§èˆ‡å¯ç¶­è­·æ€§çš„å‰æä¸‹ï¼Œç²å¾—é ‚ç´šçš„å‹åˆ¥å®‰å…¨é«”é©—ã€‚

## 1. ç‚ºä»€éº¼è·¯ç”±å™¨çš„é…ç½®æ¡ç”¨é€™ç¨®æ–¹å¼ï¼Ÿ

ç•¶ä½ æƒ³å……åˆ†ç™¼æ® TypeScript çš„æ¨è«–åŠŸèƒ½æ™‚ï¼Œæœƒå¾ˆå¿«æ„è­˜åˆ° _æ³›å‹_ æ˜¯ä½ æœ€å¥½çš„å¤¥ä¼´ã€‚å› æ­¤ï¼ŒTanStack Router å¤§é‡ä½¿ç”¨æ³›å‹ä¾†ç¢ºä¿è·¯ç”±å‹åˆ¥èƒ½è¢«æœ€å¤§é™åº¦æ¨è«–ã€‚

é€™æ„å‘³è‘—ä½ å¿…é ˆä»¥å…è¨± TypeScript æœ€å¤§é™åº¦æ¨è«–è·¯ç”±å‹åˆ¥çš„æ–¹å¼å®šç¾©è·¯ç”±ã€‚

> æˆ‘èƒ½ä½¿ç”¨ JSX å®šç¾©è·¯ç”±å—ï¼Ÿ

ä½¿ç”¨ JSX å®šç¾©è·¯ç”±æ˜¯ **ä¸å¯è¡Œçš„**ï¼Œå› ç‚º TypeScript å°‡ç„¡æ³•æ¨è«–è·¯ç”±å™¨çš„è·¯ç”±é…ç½®å‹åˆ¥ã€‚

```tsx
// â›”ï¸ é€™ä¸å¯è¡Œ
function App() {
  return (
    <Router>
      <Route path="/posts" component={PostsPage} />
      <Route path="/posts/$postId" component={PostIdPage} />
      {/* ... */}
    </Router>
    // ^? TypeScript ç„¡æ³•æ¨è«–æ­¤é…ç½®ä¸­çš„è·¯ç”±
  )
}
```

ç”±æ–¼é€™æ„å‘³è‘—ä½ å¿…é ˆæ‰‹å‹•ç‚º `<Link>` å…ƒä»¶çš„ `to` å±¬æ€§æ·»åŠ å‹åˆ¥ï¼Œä¸”ç„¡æ³•åœ¨åŸ·è¡Œæ™‚æ•ç²éŒ¯èª¤ï¼Œå› æ­¤é€™ä¸æ˜¯å¯è¡Œçš„é¸æ“‡ã€‚

> æˆ–è¨±æˆ‘å¯ä»¥å°‡è·¯ç”±å®šç¾©ç‚ºå·¢ç‹€ç‰©ä»¶æ¨¹ï¼Ÿ

```tsx
// â›”ï¸ é€™å€‹æª”æ¡ˆåªæœƒä¸æ–·è†¨è„¹...
const router = createRouter({
  routes: {
    posts: {
      component: PostsPage, // /posts
      children: {
        $postId: {
          component: PostIdPage, // /posts/$postId
        },
      },
    },
    // ...
  },
})
```

ä¹çœ‹ä¹‹ä¸‹ï¼Œé€™ä¼¼ä¹æ˜¯å€‹å¥½ä¸»æ„ã€‚å®ƒèƒ½è®“ä½ ä¸€ç›®äº†ç„¶åœ°è¦–è¦ºåŒ–æ•´å€‹è·¯ç”±å±¤ç´šçµæ§‹ã€‚ä½†é€™ç¨®æ–¹æ³•æœ‰å¹¾å€‹é‡å¤§ç¼ºé»ï¼Œä½¿å…¶ä¸é©åˆå¤§å‹æ‡‰ç”¨ï¼š

- **æ“´å±•æ€§ä¸ä½³**ï¼šéš¨è‘—æ‡‰ç”¨å¢é•·ï¼Œé€™æ£µæ¨¹æœƒä¸æ–·æ“´å¤§ä¸¦è®Šå¾—é›£ä»¥ç®¡ç†ã€‚ç”±æ–¼æ‰€æœ‰å…§å®¹éƒ½åœ¨å–®ä¸€æª”æ¡ˆä¸­å®šç¾©ï¼Œç¶­è­·æœƒè®Šå¾—éå¸¸å›°é›£ã€‚
- **ä¸åˆ©æ–¼ç¨‹å¼ç¢¼åˆ†å‰²**ï¼šä½ å¿…é ˆæ‰‹å‹•åˆ†å‰²æ¯å€‹å…ƒä»¶ï¼Œç„¶å¾Œå°‡å…¶å‚³éçµ¦è·¯ç”±çš„ `component` å±¬æ€§ï¼Œé€™æœƒä½¿è·¯ç”±é…ç½®æ›´åŠ è¤‡é›œï¼Œå°è‡´è·¯ç”±é…ç½®æª”æ¡ˆä¸æ–·è†¨è„¹ã€‚

ç•¶ä½ é–‹å§‹ä½¿ç”¨è·¯ç”±å™¨çš„æ›´å¤šåŠŸèƒ½æ™‚ï¼ˆå¦‚å·¢ç‹€ä¸Šä¸‹æ–‡ã€è¼‰å…¥å™¨ã€æœå°‹åƒæ•¸é©—è­‰ç­‰ï¼‰ï¼Œæƒ…æ³åªæœƒè®Šå¾—æ›´ç³Ÿã€‚

> é‚£éº¼ï¼Œå®šç¾©è·¯ç”±çš„æœ€ä½³æ–¹å¼æ˜¯ä»€éº¼ï¼Ÿ

æˆ‘å€‘ç™¼ç¾çš„æœ€ä½³å¯¦è¸æ˜¯å°‡è·¯ç”±é…ç½®çš„å®šç¾©æŠ½è±¡åˆ°è·¯ç”±æ¨¹ä¹‹å¤–ã€‚ç„¶å¾Œå°‡ä½ çš„è·¯ç”±é…ç½®çµ„åˆæˆä¸€å€‹é€£è²«çš„è·¯ç”±æ¨¹ï¼Œä¸¦å‚³éçµ¦ `createRouter` å‡½å¼ã€‚

ä½ å¯ä»¥é–±è®€ [åŸºæ–¼ç¨‹å¼ç¢¼çš„è·¯ç”±](./routing/code-based-routing.md) äº†è§£æ›´å¤šé—œæ–¼é€™ç¨®å®šç¾©è·¯ç”±çš„æ–¹å¼ã€‚

> [!TIP]
> è¦ºå¾—åŸºæ–¼ç¨‹å¼ç¢¼çš„è·¯ç”±æœ‰äº›ç¹ç‘£ï¼Ÿäº†è§£ç‚ºä½• [åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±](#3-ç‚ºä»€éº¼åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±æ˜¯å®šç¾©è·¯ç”±çš„é¦–é¸æ–¹å¼) æ˜¯å®šç¾©è·¯ç”±çš„é¦–é¸æ–¹æ³•ã€‚

## 2. å®£å‘Šè·¯ç”±å™¨å¯¦ä¾‹ä»¥é€²è¡Œå‹åˆ¥æ¨è«–

> ç‚ºä»€éº¼å¿…é ˆå®£å‘Š `Router`ï¼Ÿ

> é€™äº›å®£å‘Šå°æˆ‘ä¾†èªªå¤ªè¤‡é›œäº†...

ä¸€æ—¦ä½ å°‡è·¯ç”±çµ„åˆæˆæ¨¹ç‹€çµæ§‹ä¸¦æ­£ç¢ºä½¿ç”¨æ³›å‹å°‡å…¶å‚³éçµ¦è·¯ç”±å™¨å¯¦ä¾‹ï¼ˆé€é `createRouter`ï¼‰ï¼Œæ¥ä¸‹ä¾†ä½ éœ€è¦å°‡é€™äº›è³‡è¨Šå‚³éçµ¦æ‡‰ç”¨ç¨‹å¼çš„å…¶ä»–éƒ¨åˆ†ã€‚

æˆ‘å€‘è€ƒæ…®äº†å…©ç¨®å¯¦ç¾æ–¹å¼ï¼š

1. **åŒ¯å…¥**ï¼šä½ å¯ä»¥å¾å»ºç«‹è·¯ç”±å™¨å¯¦ä¾‹çš„æª”æ¡ˆä¸­åŒ¯å…¥ `Router` å¯¦ä¾‹ï¼Œä¸¦ç›´æ¥åœ¨å…ƒä»¶ä¸­ä½¿ç”¨å®ƒã€‚

```tsx
import { router } from '@/src/app'
export const PostsIdLink = () => {
  return (
    <Link<typeof router> to="/posts/$postId" params={{ postId: '123' }}>
      å‰å¾€æ–‡ç«  123
    </Link>
  )
}
```

é€™ç¨®æ–¹æ³•çš„ç¼ºé»æ˜¯ï¼Œä½ å¿…é ˆåœ¨æ¯å€‹éœ€è¦ä½¿ç”¨å®ƒçš„æª”æ¡ˆä¸­åŒ¯å…¥æ•´å€‹ `Router` å¯¦ä¾‹ã€‚é€™å¯èƒ½å°è‡´å¥—ä»¶é«”ç©å¢åŠ ï¼Œç®¡ç†èµ·ä¾†ä¹Ÿç›¸ç•¶éº»ç…©ï¼Œä¸”éš¨è‘—æ‡‰ç”¨å¢é•·å’Œä½¿ç”¨æ›´å¤šè·¯ç”±å™¨åŠŸèƒ½ï¼Œæƒ…æ³åªæœƒæƒ¡åŒ–ã€‚

2. **æ¨¡çµ„å®£å‘Š**ï¼šä½ å¯ä»¥ä½¿ç”¨ TypeScript çš„æ¨¡çµ„å®£å‘Šä¾†å®£å‘Š `Router` å¯¦ä¾‹ä½œç‚ºä¸€å€‹æ¨¡çµ„ï¼Œé€™æ¨£å¯ä»¥åœ¨æ‡‰ç”¨ç¨‹å¼çš„ä»»ä½•åœ°æ–¹é€²è¡Œå‹åˆ¥æ¨è«–ï¼Œè€Œç„¡éœ€åŒ¯å…¥å®ƒã€‚

ä½ åªéœ€åœ¨æ‡‰ç”¨ç¨‹å¼ä¸­é€²è¡Œä¸€æ¬¡é€™æ¨£çš„å®£å‘Šã€‚

```tsx
// src/app.tsx
declare module '@tanstack/react-router' {
  interface Register {
    router: typeof router
  }
}
```

ç„¶å¾Œä½ å¯ä»¥åœ¨æ‡‰ç”¨ç¨‹å¼çš„ä»»ä½•åœ°æ–¹äº«å—å…¶è‡ªå‹•å®ŒæˆåŠŸèƒ½ï¼Œè€Œç„¡éœ€åŒ¯å…¥å®ƒã€‚

```tsx
export const PostsIdLink = () => {
  return (
    <Link
      to="/posts/$postId"
      // ^? TypeScript æœƒç‚ºä½ è‡ªå‹•å®Œæˆ
      params={{ postId: '123' }} // é€™å€‹ä¹Ÿæ˜¯ï¼
    >
      å‰å¾€æ–‡ç«  123
    </Link>
  )
}
```

æˆ‘å€‘é¸æ“‡äº† **æ¨¡çµ„å®£å‘Š**ï¼Œå› ç‚ºé€™æ˜¯æˆ‘å€‘ç™¼ç¾æœ€å…·æ“´å±•æ€§å’Œå¯ç¶­è­·æ€§çš„æ–¹æ³•ï¼Œä¸”å…·æœ‰æœ€å°‘çš„é–‹éŠ·å’Œæ¨£æ¿ç¨‹å¼ç¢¼ã€‚

## 3. ç‚ºä»€éº¼åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±æ˜¯å®šç¾©è·¯ç”±çš„é¦–é¸æ–¹å¼ï¼Ÿ

> ç‚ºä»€éº¼æ–‡ä»¶æå€¡åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±ï¼Ÿ

> æˆ‘ç¿’æ…£æ–¼åœ¨å–®ä¸€æª”æ¡ˆä¸­å®šç¾©è·¯ç”±ï¼Œç‚ºä½•éœ€è¦æ”¹è®Šï¼Ÿ

ä½ æœƒæ³¨æ„åˆ°ï¼ˆå¾ˆå¿«ï¼‰åœ¨ TanStack Router çš„æ–‡ä»¶ä¸­ï¼Œæˆ‘å€‘æå€¡ **åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±** ä½œç‚ºå®šç¾©è·¯ç”±çš„é¦–é¸æ–¹æ³•ã€‚é€™æ˜¯å› ç‚ºæˆ‘å€‘ç™¼ç¾åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±æ˜¯æœ€å…·æ“´å±•æ€§å’Œå¯ç¶­è­·æ€§çš„è·¯ç”±å®šç¾©æ–¹å¼ã€‚

> [!TIP]
> åœ¨ç¹¼çºŒä¹‹å‰ï¼Œè«‹ç¢ºä¿ä½ å……åˆ†ç†è§£ [åŸºæ–¼ç¨‹å¼ç¢¼çš„è·¯ç”±](./routing/code-based-routing.md) å’Œ [åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±](./routing/file-based-routing.md)ã€‚

å¦‚å‰æ‰€è¿°ï¼ŒTanStack Router æ˜¯ç‚ºéœ€è¦é«˜åº¦å‹åˆ¥å®‰å…¨æ€§å’Œå¯ç¶­è­·æ€§çš„è¤‡é›œæ‡‰ç”¨è€Œè¨­è¨ˆçš„ã€‚ç‚ºäº†å¯¦ç¾é€™ä¸€é»ï¼Œè·¯ç”±å™¨çš„é…ç½®æ¡ç”¨äº†ç²¾ç¢ºçš„æ–¹å¼ï¼Œä»¥å…è¨± TypeScript æœ€å¤§é™åº¦æ¨è«–è·¯ç”±å‹åˆ¥ã€‚

TanStack Router åœ¨è¨­å®š _åŸºæœ¬_ æ‡‰ç”¨æ™‚çš„ä¸€å€‹é—œéµå·®ç•°æ˜¯ï¼Œä½ çš„è·¯ç”±é…ç½®éœ€è¦ç‚º `getParentRoute` æä¾›ä¸€å€‹å‡½å¼ï¼Œè©²å‡½å¼å›å‚³ç•¶å‰è·¯ç”±çš„çˆ¶è·¯ç”±ã€‚

```tsx
import { createRoute } from '@tanstack/react-router'
import { postsRoute } from './postsRoute'

export const postsIndexRoute = createRoute({
  getParentRoute: () => postsRoute,
  path: '/',
})
```

åœ¨é€™å€‹éšæ®µï¼Œé€™æ¨£åšæ˜¯ç‚ºäº†è®“ `postsIndexRoute` çš„å®šç¾©èƒ½å¤ æ„ŸçŸ¥å…¶åœ¨è·¯ç”±æ¨¹ä¸­çš„ä½ç½®ï¼Œä¸¦æ­£ç¢ºæ¨è«–çˆ¶è·¯ç”±å›å‚³çš„ `context`ã€`path params`ã€`search params` å‹åˆ¥ã€‚éŒ¯èª¤å®šç¾© `getParentRoute` å‡½å¼æ„å‘³è‘—å­è·¯ç”±å°‡ç„¡æ³•æ­£ç¢ºæ¨è«–çˆ¶è·¯ç”±çš„å±¬æ€§ã€‚

å› æ­¤ï¼Œé€™æ˜¯è·¯ç”±é…ç½®çš„é—œéµéƒ¨åˆ†ï¼Œå¦‚æœæ“ä½œä¸ç•¶ï¼Œå°‡æˆç‚ºå¤±æ•—é»ã€‚

ä½†é€™åªæ˜¯è¨­å®šåŸºæœ¬æ‡‰ç”¨çš„ä¸€éƒ¨åˆ†ã€‚TanStack Router è¦æ±‚æ‰€æœ‰è·¯ç”±ï¼ˆåŒ…æ‹¬æ ¹è·¯ç”±ï¼‰å¿…é ˆçµ„åˆæˆä¸€å€‹ **_è·¯ç”±æ¨¹_**ï¼Œä»¥ä¾¿åœ¨å®£å‘Šæ¨¡çµ„ä¸Šçš„ `Router` å¯¦ä¾‹é€²è¡Œå‹åˆ¥æ¨è«–ä¹‹å‰ï¼Œå°‡å…¶å‚³éçµ¦ `createRouter` å‡½å¼ã€‚é€™æ˜¯è·¯ç”±é…ç½®çš„å¦ä¸€å€‹é—œéµéƒ¨åˆ†ï¼Œå¦‚æœæ“ä½œä¸ç•¶ï¼Œå°‡æˆç‚ºå¤±æ•—é»ã€‚

> ğŸ¤¯ å¦‚æœé€™å€‹è·¯ç”±æ¨¹ä½æ–¼ä¸€å€‹æ“æœ‰ç´„ 40-50 å€‹è·¯ç”±çš„æ‡‰ç”¨ç¨‹å¼çš„ç¨ç«‹æª”æ¡ˆä¸­ï¼Œå®ƒå¾ˆå®¹æ˜“å¢é•·åˆ° 700 è¡Œä»¥ä¸Šã€‚

```tsx
const routeTree = rootRoute.addChildren([
  postsRoute.addChildren([postsIndexRoute, postsIdRoute]),
])
```

é€™ç¨®è¤‡é›œæ€§åªæœƒéš¨è‘—ä½ é–‹å§‹ä½¿ç”¨è·¯ç”±å™¨çš„æ›´å¤šåŠŸèƒ½ï¼ˆå¦‚å·¢ç‹€ä¸Šä¸‹æ–‡ã€è¼‰å…¥å™¨ã€æœå°‹åƒæ•¸é©—è­‰ç­‰ï¼‰è€Œå¢åŠ ã€‚å› æ­¤ï¼Œåœ¨å–®ä¸€æª”æ¡ˆä¸­å®šç¾©è·¯ç”±è®Šå¾—ä¸å¯è¡Œã€‚æœ€çµ‚ï¼Œä½¿ç”¨è€…æœƒå»ºç«‹è‡ªå·±çš„ _åŠä¸€è‡´_ æ–¹å¼åœ¨å¤šå€‹æª”æ¡ˆä¸­å®šç¾©è·¯ç”±ï¼Œé€™å¯èƒ½å°è‡´è·¯ç”±é…ç½®çš„ä¸ä¸€è‡´å’ŒéŒ¯èª¤ã€‚

æœ€å¾Œæ˜¯ç¨‹å¼ç¢¼åˆ†å‰²çš„å•é¡Œã€‚éš¨è‘—æ‡‰ç”¨å¢é•·ï¼Œä½ æœƒå¸Œæœ›åˆ†å‰²ç¨‹å¼ç¢¼ä»¥æ¸›å°‘æ‡‰ç”¨çš„åˆå§‹å¥—ä»¶é«”ç©ã€‚ç•¶ä½ åœ¨å–®ä¸€æª”æ¡ˆç”šè‡³å¤šå€‹æª”æ¡ˆä¸­å®šç¾©è·¯ç”±æ™‚ï¼Œç®¡ç†èµ·ä¾†å¯èƒ½æœƒæœ‰äº›é ­ç—›ã€‚

```tsx
import { createRoute, lazyRouteComponent } from '@tanstack/react-router'
import { postsRoute } from './postsRoute'

export const postsIndexRoute = createRoute({
  getParentRoute: () => postsRoute,
  path: '/',
  component: lazyRouteComponent(() => import('../page-components/posts/index')),
})
```

æ‰€æœ‰é€™äº›æ¨£æ¿ç¨‹å¼ç¢¼ï¼Œç„¡è«–å°æ–¼æä¾›é ‚ç´šå‹åˆ¥æ¨è«–é«”é©—å¤šéº¼é‡è¦ï¼Œéƒ½å¯èƒ½è®“äººæ„Ÿåˆ°ä¸çŸ¥æ‰€æªï¼Œä¸¦å°è‡´è·¯ç”±é…ç½®çš„ä¸ä¸€è‡´å’ŒéŒ¯èª¤ã€‚

... è€Œé€™å€‹ç¯„ä¾‹é…ç½®åƒ…ç”¨æ–¼æ¸²æŸ“å–®ä¸€ç¨‹å¼ç¢¼åˆ†å‰²è·¯ç”±ã€‚æƒ³åƒä¸€ä¸‹è¦ç‚º 40-50 å€‹è·¯ç”±é€²è¡Œé€™æ¨£çš„é…ç½®ã€‚ç¾åœ¨è«‹è¨˜ä½ï¼Œä½ é‚„æ²’æœ‰è§¸åŠ `context`ã€`loaders`ã€`search param validation` ä»¥åŠè·¯ç”±å™¨çš„å…¶ä»–åŠŸèƒ½ ğŸ¤•ã€‚

> é‚£éº¼ï¼Œç‚ºä½•åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±æ˜¯é¦–é¸æ–¹å¼ï¼Ÿ

TanStack Router çš„åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±æ—¨åœ¨è§£æ±ºæ‰€æœ‰é€™äº›å•é¡Œã€‚å®ƒå…è¨±ä½ ä»¥å¯é æ¸¬çš„æ–¹å¼å®šç¾©è·¯ç”±ï¼Œé€™ç¨®æ–¹å¼æ˜“æ–¼ç®¡ç†å’Œç¶­è­·ï¼Œä¸¦èƒ½éš¨è‘—æ‡‰ç”¨å¢é•·è€Œæ“´å±•ã€‚

åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±æ–¹æ³•ç”± TanStack Router Bundler Plugin æä¾›æ”¯æ´ã€‚å®ƒåŸ·è¡Œäº†ä¸‰å€‹åŸºæœ¬ä»»å‹™ï¼Œè§£æ±ºäº†ä½¿ç”¨åŸºæ–¼ç¨‹å¼ç¢¼çš„è·¯ç”±æ™‚åœ¨è·¯ç”±é…ç½®ä¸­çš„ç—›é»ï¼š

1. **è·¯ç”±é…ç½®æ¨£æ¿ç¨‹å¼ç¢¼**ï¼šå®ƒç‚ºä½ çš„è·¯ç”±é…ç½®ç”Ÿæˆæ¨£æ¿ç¨‹å¼ç¢¼ã€‚
2. **è·¯ç”±æ¨¹çµ„åˆ**ï¼šå®ƒå°‡ä½ çš„è·¯ç”±é…ç½®çµ„åˆæˆä¸€å€‹é€£è²«çš„è·¯ç”±æ¨¹ã€‚åŒæ™‚åœ¨å¾Œå°ï¼Œå®ƒæœƒæ­£ç¢ºæ›´æ–°è·¯ç”±é…ç½®ä»¥å®šç¾© `getParentRoute` å‡½å¼ï¼Œå°‡è·¯ç”±èˆ‡å…¶çˆ¶è·¯ç”±åŒ¹é…ã€‚
3. **ç¨‹å¼ç¢¼åˆ†å‰²**ï¼šå®ƒè‡ªå‹•åˆ†å‰²ä½ çš„è·¯ç”±å…§å®¹å…ƒä»¶ï¼Œä¸¦ä½¿ç”¨æ­£ç¢ºçš„å…ƒä»¶æ›´æ–°è·¯ç”±é…ç½®ã€‚æ­¤å¤–ï¼Œåœ¨åŸ·è¡Œæ™‚ï¼Œå®ƒç¢ºä¿åœ¨è¨ªå•è·¯ç”±æ™‚è¼‰å…¥æ­£ç¢ºçš„å…ƒä»¶ã€‚

è®“æˆ‘å€‘çœ‹çœ‹ä¹‹å‰ç¯„ä¾‹çš„è·¯ç”±é…ç½®åœ¨ä½¿ç”¨åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±æ™‚æœƒæ˜¯ä»€éº¼æ¨£å­ã€‚

```tsx
// src/routes/posts/index.ts
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/posts/')({
  component: () => 'Posts index component goes here!!!',
})
```

å°±é€™æ¨£ï¼ç„¡éœ€æ“”å¿ƒå®šç¾© `getParentRoute` å‡½å¼ã€çµ„åˆè·¯ç”±æ¨¹æˆ–åˆ†å‰²ç¨‹å¼ç¢¼å…ƒä»¶ã€‚TanStack Router Bundler Plugin ç‚ºä½ è™•ç†é€™ä¸€åˆ‡ã€‚

TanStack Router Bundler Plugin çµ•ä¸æœƒå‰å¥ªä½ å°è·¯ç”±é…ç½®çš„æ§åˆ¶æ¬Šã€‚å®ƒè¨­è¨ˆå¾—ç›¡å¯èƒ½éˆæ´»ï¼Œå…è¨±ä½ ä»¥é©åˆæ‡‰ç”¨çš„æ–¹å¼å®šç¾©è·¯ç”±ï¼ŒåŒæ™‚æ¸›å°‘è·¯ç”±é…ç½®çš„æ¨£æ¿ç¨‹å¼ç¢¼å’Œè¤‡é›œæ€§ã€‚

æŸ¥çœ‹ [åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±](./routing/file-based-routing.md) å’Œ [ç¨‹å¼ç¢¼åˆ†å‰²](./routing/code-splitting.md) çš„æŒ‡å—ï¼Œä»¥æ›´æ·±å…¥äº†è§£å®ƒå€‘åœ¨ TanStack Router ä¸­çš„é‹ä½œæ–¹å¼ã€‚
